{
  "hash": "2546eb4763a74f51e5a02d35fd6618cb",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Perfect Endgame Heuristic\"\nsubtitle: \"AnglickÃ¡ dÃ¡ma - Obecne principy s kontextovou zavislosti\"\nauthor: \"AI1 Projekt\"\ndate: today\n\njupyter: julia-1.12\nexecute:\n  eval: false\n  echo: true\n---\n\n\\newpage\n\n## Uvod\n\n### Charakteristika\n\n`perfect_endgame_heuristic` je **obecna principialni** heuristika postavena na 7 strategickych principech:\n\n| # | Princip | Popis |\n|---|---------|-------|\n| 1 | Material | Zakladni hodnota figur a 1v1 ochrana |\n| 2 | Red Position | Viditelnost pozice cerveneho |\n| 3 | Coordination | Squeeze formace |\n| 4 | Retreat Penalty | Pseudo-terminalni stavy |\n| 5 | Net Formation | Diagonalni spread operatora |\n| 6 | Mobility | Omezeni tahu soupere |\n| 7 | Cornering | Tlak k okrajum |\n| 8 | Corner Control | Kontextove zavisle rizeni rohu |\n\n> **Pristup:** Zadne hardcoded pozice - pouze obecne principy.\n\n### Silne stranky\n\n- Obecna - funguje z libovolne startovni pozice\n- Kontextove zavisle - bonus se meni podle faze hry\n- Robustni vuci horizon effectu (depth 5 i 6)\n- Move ordering pro lepsÃ­ pruning\n\n### Klicova inovace\n\n1. **Anchor vs Operator** - rozliseni roli kralu\n2. **Pseudo-terminalni stavy** - penalta za zbytecny ustup\n3. **Move ordering** - serazeni tahu pred minimax\n\n\\newpage\n\n## Implementace - Klicove sekce\n\n::: {.callout-note}\nVsechny ukÃ¡zky kÃ³du nÃ­Å¾e jsou **embedy** ze souboru `heuristics.jl`. \nPri zmene zdrojoveho kodu se dokumentace automaticky aktualizuje.\n:::\n\n### PRINCIP 1: Material a 1v1 ochrana\n\n```{.julia include=\"heuristics.jl\" region=\"perfect_material\"}\n```\n\n```{.julia include=\"heuristics.jl\" region=\"perfect_1v1\"}\n```\n\n> **Rozdil od Optimal:** `optimal` pouziva penaltu -2000, `perfect` pouziva hard forbidden -99999.\n\n### PRINCIP 2: Pozice cerveneho\n\n```{.julia include=\"heuristics.jl\" region=\"perfect_red_pos\"}\n```\n\n> **Klicovy rozdil:** Pozice cerveneho je primo viditelna v hodnote - penalta I bonus.\n\n### PRINCIP 3: Koordinovany utok (Squeeze)\n\n```{.julia include=\"heuristics.jl\" region=\"perfect_coordination\"}\n```\n\n\\newpage\n\n### PRINCIP 4: Penalta za zbytecny ustup\n\n```{.julia include=\"heuristics.jl\" region=\"perfect_retreat\"}\n```\n\n> **Toto zamezuje hre na cas** - bily se nemuze utahovat do nekonecna.\n\n### PRINCIP 5: Diagonalni sitova formace (Net)\n\nKracive logika - rozliseni **kotvy** a **operatora**:\n\n```{.julia include=\"heuristics.jl\" region=\"perfect_net\"}\n```\n\n> **Toto je klicova inovace** - jakmile kotva drzi roh, operator MUSI jit diagonalne (14â†’18), ne k rohu (14â†’10).\n\n\\newpage\n\n### PRINCIP 6: Mobilita soupeÅ™e\n\nÄŒÃ­m mÃ©nÄ› tahÅ¯ mÃ¡ ÄervenÃ½, tÃ­m lÃ©pe. 0 tahÅ¯ = vÃ½hra.\n\n```{.julia include=\"heuristics.jl\" region=\"perfect_mobility\"}\n```\n\n### PRINCIP 7: Cornering (Tlak k okrajÅ¯m)\n\nTlaÄenÃ­ ÄervenÃ©ho k okrajÅ¯m desky (\"Kontrola hry\").\n\n```{.julia include=\"heuristics.jl\" region=\"perfect_cornering\"}\n```\n\n### PRINCIP 8: Kontextove zavisle rizeni rohu\n\n```{.julia include=\"heuristics.jl\" region=\"perfect_corner_control\"}\n```\n\n> **Kontextova zavislost** - bonus za roh POUZE kdyz tam jeste nikdo neni.\n\n\\newpage\n\n## Move Ordering\n\nKricka optimalizace pro reseni horizon effectu:\n\n```{.julia include=\"testvaluefunc.jl\" region=\"move_ordering\"}\n```\n\n**Vyhody:**\n\n1. **Lepsi alpha-beta pruning** - nejlepsi tahy prvni\n2. **Tiebreaking** - pri rovnosti vyhrava vyssi okamzita heuristika\n\n\\newpage\n\n## Validace\n\n::: {#load-simulation-data .cell execution_count=1}\n**Zdrojovy run:** `run_20260210_155501`\n\n- **Hloubka:** 6\n\n## Vysledky prohledavani â€” prehled po tazich\n\n| # | Hrac | Tah | Skore | Uzlu | Pozice po tahu | Hodnoceni |\n|--:|------|-----|------:|-----:|----------------|----------:|\n| 1 | Bily (MAX) | 14-9 | 4160 | 882 | R@1, W@9, W@10 | 1725 |\n| 2 | Cerveny (MIN) | 1-5 | 6610 | 221 | R@5, W@9, W@10 | 1713 |\n| 3 | Bily (MAX) | 10-14 | 6550 | 452 | R@5, W@9, W@14 | 1713 |\n| 4 | Cerveny (MIN) | 5-1 | 7950 | 238 | R@1, W@9, W@14 | 1725 |\n| 5 | Bily (MAX) | 9-5 | 7760 | 467 | R@1, W@5, W@14 | 1730 |\n| 6 | Cerveny (MIN) | 1-6 | 7750 | 239 | W@5, R@6, W@14 | 1692 |\n| 7 | Bily (MAX) | 5-1 | 7890 | 371 | W@1, R@6, W@14 | 1680 |\n| 8 | Cerveny (MIN) | 6-2 | 8150 | 375 | W@1, R@2, W@14 | 1575 |\n| 9 | Bily (MAX) | 14-18 | 7950 | 812 | W@1, R@2, W@18 | 1575 |\n| 10 | Cerveny (MIN) | 2-7 | **10000** | 882 | W@1, R@7, W@18 | 1430 |\n| 11 | Bily (MAX) | 18-15 | **99999** | 1393 | W@1, R@7, W@15 | 1530 |\n| 12 | Cerveny (MIN) | 7-2 | **99999** | 531 | W@1, R@2, W@15 | 1575 |\n| 13 | Bily (MAX) | 15-11 | **99999** | 275 | W@1, R@2, W@11 | 1575 |\n| 14 | Cerveny (MIN) | 2-6 | **99999** | 6 | W@1, R@6, W@11 | 1580 |\n| 15 | Bily (MAX) | 1x10 | **99999** | 2 | W@10, W@11 | 610 |\n\n> ğŸ† BÃLÃ VYHRÃL! SoupeÅ™ nemÃ¡ legÃ¡lnÃ­ tahy.\n:::\n\n\n\\newpage\n\n### ProhledÃ¡vacÃ­ stromy â€” srovnÃ¡nÃ­ variant (hloubka 6)\n\n::: {#render-tree-text .cell execution_count=2}\n### SrovnÃ¡nÃ­ proÅ™ezÃ¡vacÃ­ch strategiÃ­ (vÅ¡echny hloubka 6)\n\nPoÄÃ¡teÄnÃ­ pozice: **W@10, W@14, R@1** (2 bÃ­lÃ­ krÃ¡lovÃ© vs 1 ÄervenÃ½ krÃ¡l).\nVÅ¡echny varianty hledajÃ­ do hloubky **6** (3 tahy kaÅ¾dÃ©ho hrÃ¡Äe).\nTextovÃ© stromy nÃ­Å¾e slouÅ¾Ã­ k validaci obsahu â€” vizuÃ¡lnÃ­ renderovÃ¡nÃ­ bude v dalÅ¡Ã­ iteraci.\n\n---\n\n### 1. Alpha-Beta â€” hrubÃ¡ sÃ­la (PRUNE_NONE), ~901 uzlÅ¯\n\nIlustrativnÃ­ zobrazenÃ­ (hornÃ­ 3 ÃºrovnÄ› z 6):\n\n```\nâ”œâ”€ Start (MAX) score=4160.0 Î±=4160.0 Î²=Inf\n  â”œâ”€ 10-6 (MIN) score=-99999.0 Î±=-Inf Î²=-99999.0\n    â”œâ”€ 1x10x17 [NO MOVES] (MAX) score=-99999.0 Î±=-Inf Î²=Inf\n  â”œâ”€ 10-7 (MIN) score=3830.0 Î±=-99999.0 Î²=3830.0\n    â”œâ”€ 1-5 (MAX) score=3830.0 Î±=3830.0 Î²=Inf\n      â”œâ”€ 7-2 (MIN) score=3830.0 Î±=-99999.0 Î²=3830.0\n      â”œâ”€ 7-3 (MIN) score=3670.0 Î±=3830.0 Î²=3670.0\n      â”œâ”€ 7-10 (MIN) score=3630.0 Î±=3830.0 Î²=3630.0\n      â”œâ”€ 7-11 (MIN) score=3470.0 Î±=3830.0 Î²=3470.0\n      â”œâ”€ 14-9 (MIN) score=-10000.0 Î±=3830.0 Î²=-10000.0\n      â”œâ”€ 14-10 (MIN) score=3470.0 Î±=3830.0 Î²=3470.0\n      â”œâ”€ 14-17 (MIN) score=3370.0 Î±=3830.0 Î²=3370.0\n      â”œâ”€ 14-18 (MIN) score=2910.0 Î±=3830.0 Î²=2910.0\n    â”œâ”€ 1-6 (MAX) score=3830.0 Î±=3830.0 Î²=3830.0\n      â”œâ”€ 7-2 (MIN) score=3830.0 Î±=-99999.0 Î²=3830.0\n      â”œâ”€ [Î² cut-off] (MIN) score=3830.0 Î±=3830.0 Î²=3830.0 [PRUNED]\n  â”œâ”€ 10-15 (MIN) score=3630.0 Î±=3830.0 Î²=3630.0\n    â”œâ”€ 1-5 (MAX) score=3630.0 Î±=3830.0 Î²=Inf\n      â”œâ”€ 14-9 (MIN) score=-10000.0 Î±=3830.0 Î²=-10000.0\n      â”œâ”€ 14-10 (MIN) score=2710.0 Î±=3830.0 Î²=2710.0\n      â”œâ”€ 14-17 (MIN) score=3170.0 Î±=3830.0 Î²=3170.0\n      â”œâ”€ 14-18 (MIN) score=2710.0 Î±=3830.0 Î²=2710.0\n      â”œâ”€ 15-10 (MIN) score=3630.0 Î±=3830.0 Î²=3630.0\n      â”œâ”€ 15-11 (MIN) score=3470.0 Î±=3830.0 Î²=3470.0\n      â”œâ”€ 15-18 (MIN) score=3470.0 Î±=3830.0 Î²=3470.0\n      â”œâ”€ 15-19 (MIN) score=3010.0 Î±=3830.0 Î²=3010.0\n    â”œâ”€ [Î± cut-off] (MAX) score=3630.0 Î±=3830.0 Î²=3630.0 [PRUNED]\n  â”œâ”€ 14-9 (MIN) score=4160.0 Î±=3830.0 Î²=4160.0\n    â”œâ”€ 1-5 (MAX) score=4160.0 Î±=4160.0 Î²=Inf\n      â”œâ”€ 9-6 (MIN) score=3630.0 Î±=3830.0 Î²=3630.0\n      â”œâ”€ 9-13 (MIN) score=3630.0 Î±=3830.0 Î²=3630.0\n      â”œâ”€ 9-14 (MIN) score=3630.0 Î±=3830.0 Î²=3630.0\n      â”œâ”€ 10-6 (MIN) score=-10000.0 Î±=3830.0 Î²=-10000.0\n      â”œâ”€ 10-7 (MIN) score=-10000.0 Î±=3830.0 Î²=-10000.0\n      â”œâ”€ 10-14 (MIN) score=4160.0 Î±=3830.0 Î²=4160.0\n      â”œâ”€ 10-15 (MIN) score=-10000.0 Î±=4160.0 Î²=-10000.0\n    â”œâ”€ 1-6 (MAX) score=99999.0 Î±=99999.0 Î²=4160.0\n      â”œâ”€ 9x2 [NO MOVES] (MIN) score=99999.0 Î±=3830.0 Î²=4160.0\n      â”œâ”€ [Î² cut-off] (MIN) score=99999.0 Î±=99999.0 Î²=4160.0 [PRUNED]\n  â”œâ”€ 14-17 (MIN) score=3630.0 Î±=4160.0 Î²=3630.0\n    â”œâ”€ 1-5 (MAX) score=3630.0 Î±=4160.0 Î²=Inf\n      â”œâ”€ 10-6 (MIN) score=3530.0 Î±=4160.0 Î²=3530.0\n      â”œâ”€ 10-7 (MIN) score=3370.0 Î±=4160.0 Î²=3370.0\n      â”œâ”€ 10-14 (MIN) score=3530.0 Î±=4160.0 Î²=3530.0\n      â”œâ”€ 10-15 (MIN) score=3170.0 Î±=4160.0 Î²=3170.0\n      â”œâ”€ 17-13 (MIN) score=3630.0 Î±=4160.0 Î²=3630.0\n      â”œâ”€ 17-14 (MIN) score=3630.0 Î±=4160.0 Î²=3630.0\n      â”œâ”€ 17-21 (MIN) score=3170.0 Î±=4160.0 Î²=3170.0\n      â”œâ”€ 17-22 (MIN) score=3170.0 Î±=4160.0 Î²=3170.0\n    â”œâ”€ [Î± cut-off] (MAX) score=3630.0 Î±=4160.0 Î²=3630.0 [PRUNED]\n  â”œâ”€ 14-18 (MIN) score=3630.0 Î±=4160.0 Î²=3630.0\n    â”œâ”€ 1-5 (MAX) score=3630.0 Î±=4160.0 Î²=Inf\n      â”œâ”€ 10-6 (MIN) score=3470.0 Î±=4160.0 Î²=3470.0\n      â”œâ”€ 10-7 (MIN) score=2910.0 Î±=4160.0 Î²=2910.0\n      â”œâ”€ 10-14 (MIN) score=3470.0 Î±=4160.0 Î²=3470.0\n      â”œâ”€ 10-15 (MIN) score=2710.0 Î±=4160.0 Î²=2710.0\n      â”œâ”€ 18-14 (MIN) score=3630.0 Î±=4160.0 Î²=3630.0\n      â”œâ”€ 18-15 (MIN) score=2710.0 Î±=4160.0 Î²=2710.0\n      â”œâ”€ 18-22 (MIN) score=3170.0 Î±=4160.0 Î²=3170.0\n      â”œâ”€ 18-23 (MIN) score=2710.0 Î±=4160.0 Î²=2710.0\n    â”œâ”€ [Î± cut-off] (MAX) score=3630.0 Î±=4160.0 Î²=3630.0 [PRUNED]\n\n```\n\n---\n\n### 2. Pragmatic â€” ztrÃ¡ta figury (PRUNE_LOSS_OF_PIECE), ~843 uzlÅ¯\n\nIlustrativnÃ­ zobrazenÃ­ (hornÃ­ 3 ÃºrovnÄ› z 6):\n\n```\nâ”œâ”€ Start (MAX) score=4160.0 Î±=4160.0 Î²=Inf\n  â”œâ”€ 10-6 (MIN) score=-10000.0 Î±=-Inf Î²=-10000.0\n    â”œâ”€ 1x10x17 [LOSS PRUNED] (MAX) score=-10000.0 Î±=-Inf Î²=Inf [PRUNED]\n  â”œâ”€ 10-7 (MIN) score=3830.0 Î±=-10000.0 Î²=3830.0\n    â”œâ”€ 1-5 (MAX) score=3830.0 Î±=3830.0 Î²=Inf\n      â”œâ”€ 7-2 (MIN) score=3830.0 Î±=-10000.0 Î²=3830.0\n      â”œâ”€ 7-3 (MIN) score=3670.0 Î±=3830.0 Î²=3670.0\n      â”œâ”€ 7-10 (MIN) score=3630.0 Î±=3830.0 Î²=3630.0\n      â”œâ”€ 7-11 (MIN) score=3470.0 Î±=3830.0 Î²=3470.0\n      â”œâ”€ 14-9 (MIN) score=-99999.0 Î±=3830.0 Î²=-99999.0\n      â”œâ”€ 14-10 (MIN) score=3470.0 Î±=3830.0 Î²=3470.0\n      â”œâ”€ 14-17 (MIN) score=3370.0 Î±=3830.0 Î²=3370.0\n      â”œâ”€ 14-18 (MIN) score=2910.0 Î±=3830.0 Î²=2910.0\n    â”œâ”€ 1-6 (MAX) score=3830.0 Î±=3830.0 Î²=3830.0\n      â”œâ”€ 7-2 (MIN) score=3830.0 Î±=-10000.0 Î²=3830.0\n      â”œâ”€ [Î² cut-off] (MIN) score=3830.0 Î±=3830.0 Î²=3830.0 [PRUNED]\n  â”œâ”€ 10-15 (MIN) score=3630.0 Î±=3830.0 Î²=3630.0\n    â”œâ”€ 1-5 (MAX) score=3630.0 Î±=3830.0 Î²=Inf\n      â”œâ”€ 14-9 (MIN) score=-99999.0 Î±=3830.0 Î²=-99999.0\n      â”œâ”€ 14-10 (MIN) score=2710.0 Î±=3830.0 Î²=2710.0\n      â”œâ”€ 14-17 (MIN) score=3170.0 Î±=3830.0 Î²=3170.0\n      â”œâ”€ 14-18 (MIN) score=2710.0 Î±=3830.0 Î²=2710.0\n      â”œâ”€ 15-10 (MIN) score=3630.0 Î±=3830.0 Î²=3630.0\n      â”œâ”€ 15-11 (MIN) score=3470.0 Î±=3830.0 Î²=3470.0\n      â”œâ”€ 15-18 (MIN) score=3470.0 Î±=3830.0 Î²=3470.0\n      â”œâ”€ 15-19 (MIN) score=3010.0 Î±=3830.0 Î²=3010.0\n    â”œâ”€ [Î± cut-off] (MAX) score=3630.0 Î±=3830.0 Î²=3630.0 [PRUNED]\n  â”œâ”€ 14-9 (MIN) score=4160.0 Î±=3830.0 Î²=4160.0\n    â”œâ”€ 1-5 (MAX) score=4160.0 Î±=4160.0 Î²=Inf\n      â”œâ”€ 9-6 (MIN) score=3630.0 Î±=3830.0 Î²=3630.0\n      â”œâ”€ 9-13 (MIN) score=3630.0 Î±=3830.0 Î²=3630.0\n      â”œâ”€ 9-14 (MIN) score=3630.0 Î±=3830.0 Î²=3630.0\n      â”œâ”€ 10-6 (MIN) score=-99999.0 Î±=3830.0 Î²=-99999.0\n      â”œâ”€ 10-7 (MIN) score=-99999.0 Î±=3830.0 Î²=-99999.0\n      â”œâ”€ 10-14 (MIN) score=4160.0 Î±=3830.0 Î²=4160.0\n      â”œâ”€ 10-15 (MIN) score=-99999.0 Î±=4160.0 Î²=-99999.0\n    â”œâ”€ 1-6 (MAX) score=99999.0 Î±=99999.0 Î²=4160.0\n      â”œâ”€ 9x2 [NO MOVES] (MIN) score=99999.0 Î±=3830.0 Î²=4160.0\n      â”œâ”€ [Î² cut-off] (MIN) score=99999.0 Î±=99999.0 Î²=4160.0 [PRUNED]\n  â”œâ”€ 14-17 (MIN) score=3630.0 Î±=4160.0 Î²=3630.0\n    â”œâ”€ 1-5 (MAX) score=3630.0 Î±=4160.0 Î²=Inf\n      â”œâ”€ 10-6 (MIN) score=3530.0 Î±=4160.0 Î²=3530.0\n      â”œâ”€ 10-7 (MIN) score=3370.0 Î±=4160.0 Î²=3370.0\n      â”œâ”€ 10-14 (MIN) score=3530.0 Î±=4160.0 Î²=3530.0\n      â”œâ”€ 10-15 (MIN) score=3170.0 Î±=4160.0 Î²=3170.0\n      â”œâ”€ 17-13 (MIN) score=3630.0 Î±=4160.0 Î²=3630.0\n      â”œâ”€ 17-14 (MIN) score=3630.0 Î±=4160.0 Î²=3630.0\n      â”œâ”€ 17-21 (MIN) score=3170.0 Î±=4160.0 Î²=3170.0\n      â”œâ”€ 17-22 (MIN) score=3170.0 Î±=4160.0 Î²=3170.0\n    â”œâ”€ [Î± cut-off] (MAX) score=3630.0 Î±=4160.0 Î²=3630.0 [PRUNED]\n  â”œâ”€ 14-18 (MIN) score=3630.0 Î±=4160.0 Î²=3630.0\n    â”œâ”€ 1-5 (MAX) score=3630.0 Î±=4160.0 Î²=Inf\n      â”œâ”€ 10-6 (MIN) score=3470.0 Î±=4160.0 Î²=3470.0\n      â”œâ”€ 10-7 (MIN) score=2910.0 Î±=4160.0 Î²=2910.0\n      â”œâ”€ 10-14 (MIN) score=3470.0 Î±=4160.0 Î²=3470.0\n      â”œâ”€ 10-15 (MIN) score=2710.0 Î±=4160.0 Î²=2710.0\n      â”œâ”€ 18-14 (MIN) score=3630.0 Î±=4160.0 Î²=3630.0\n      â”œâ”€ 18-15 (MIN) score=2710.0 Î±=4160.0 Î²=2710.0\n      â”œâ”€ 18-22 (MIN) score=3170.0 Î±=4160.0 Î²=3170.0\n      â”œâ”€ 18-23 (MIN) score=2710.0 Î±=4160.0 Î²=2710.0\n    â”œâ”€ [Î± cut-off] (MAX) score=3630.0 Î±=4160.0 Î²=3630.0 [PRUNED]\n\n```\n\n---\n\n### 3. Lazy â€” trestÃ¡nÃ­ Ãºstupu (PRUNE_RETREAT), ~763 uzlÅ¯\n\nIlustrativnÃ­ zobrazenÃ­ (hornÃ­ 4 ÃºrovnÄ› z 6):\n\n```\nâ”œâ”€ Start (MAX) score=4160.0 Î±=4160.0 Î²=Inf\n  â”œâ”€ 10-6 (MIN) score=-99999.0 Î±=-Inf Î²=-99999.0\n    â”œâ”€ 1x10x17 [NO MOVES] (MAX) score=-99999.0 Î±=-Inf Î²=Inf\n  â”œâ”€ 10-7 (MIN) score=3830.0 Î±=-99999.0 Î²=3830.0\n    â”œâ”€ 1-5 (MAX) score=3830.0 Î±=3830.0 Î²=Inf\n      â”œâ”€ 7-2 (MIN) score=3830.0 Î±=-99999.0 Î²=3830.0\n        â”œâ”€ 5-1 (MAX) score=3830.0 Î±=3830.0 Î²=Inf\n        â”œâ”€ 5-9 (MAX) score=99999.0 Î±=99999.0 Î²=3830.0\n      â”œâ”€ 7-3 (MIN) score=3670.0 Î±=3830.0 Î²=3670.0\n        â”œâ”€ 5-1 (MAX) score=3670.0 Î±=3830.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=3670.0 Î±=3830.0 Î²=3670.0 [PRUNED]\n      â”œâ”€ 7-10 (MIN) score=3630.0 Î±=3830.0 Î²=3630.0\n        â”œâ”€ 5-1 (MAX) score=3630.0 Î±=3830.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=3630.0 Î±=3830.0 Î²=3630.0 [PRUNED]\n      â”œâ”€ 7-11 (MIN) score=3470.0 Î±=3830.0 Î²=3470.0\n        â”œâ”€ 5-1 (MAX) score=3470.0 Î±=3830.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=3470.0 Î±=3830.0 Î²=3470.0 [PRUNED]\n      â”œâ”€ 14-9 (MIN) score=-10000.0 Î±=3830.0 Î²=-10000.0\n        â”œâ”€ 5x14 (MAX) score=-10000.0 Î±=3830.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=-10000.0 Î±=3830.0 Î²=-10000.0 [PRUNED]\n      â”œâ”€ 14-10 (MIN) score=3470.0 Î±=3830.0 Î²=3470.0\n        â”œâ”€ 5-1 (MAX) score=3470.0 Î±=3830.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=3470.0 Î±=3830.0 Î²=3470.0 [PRUNED]\n      â”œâ”€ 14-17 (MIN) score=3370.0 Î±=3830.0 Î²=3370.0\n        â”œâ”€ 5-1 (MAX) score=3370.0 Î±=3830.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=3370.0 Î±=3830.0 Î²=3370.0 [PRUNED]\n      â”œâ”€ 14-18 (MIN) score=2910.0 Î±=3830.0 Î²=2910.0\n        â”œâ”€ 5-1 (MAX) score=2910.0 Î±=3830.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=2910.0 Î±=3830.0 Î²=2910.0 [PRUNED]\n    â”œâ”€ 1-6 (MAX) score=3830.0 Î±=3830.0 Î²=3830.0\n      â”œâ”€ 7-2 (MIN) score=3830.0 Î±=-99999.0 Î²=3830.0\n        â”œâ”€ 6-1 (MAX) score=3830.0 Î±=3830.0 Î²=3830.0\n        â”œâ”€ 6-9 (MAX) score=99999.0 Î±=99999.0 Î²=3830.0\n        â”œâ”€ 6-10 (MAX) score=99999.0 Î±=99999.0 Î²=3830.0\n      â”œâ”€ [Î² cut-off] (MIN) score=3830.0 Î±=3830.0 Î²=3830.0 [PRUNED]\n  â”œâ”€ 10-15 (MIN) score=3630.0 Î±=3830.0 Î²=3630.0\n    â”œâ”€ 1-5 (MAX) score=3630.0 Î±=3830.0 Î²=Inf\n      â”œâ”€ 14-9 (MIN) score=-10000.0 Î±=3830.0 Î²=-10000.0\n        â”œâ”€ 5x14 (MAX) score=-10000.0 Î±=3830.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=-10000.0 Î±=3830.0 Î²=-10000.0 [PRUNED]\n      â”œâ”€ 14-10 (MIN) score=2710.0 Î±=3830.0 Î²=2710.0\n        â”œâ”€ 5-1 (MAX) score=2710.0 Î±=3830.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=2710.0 Î±=3830.0 Î²=2710.0 [PRUNED]\n      â”œâ”€ 14-17 (MIN) score=3170.0 Î±=3830.0 Î²=3170.0\n        â”œâ”€ 5-1 (MAX) score=3170.0 Î±=3830.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=3170.0 Î±=3830.0 Î²=3170.0 [PRUNED]\n      â”œâ”€ 14-18 [RETREAT PRUNED] (MIN) score=-750.0 Î±=3830.0 Î²=Inf [PRUNED]\n      â”œâ”€ 15-10 (MIN) score=3630.0 Î±=3830.0 Î²=3630.0\n        â”œâ”€ 5-1 (MAX) score=3630.0 Î±=3830.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=3630.0 Î±=3830.0 Î²=3630.0 [PRUNED]\n      â”œâ”€ 15-11 (MIN) score=3470.0 Î±=3830.0 Î²=3470.0\n        â”œâ”€ 5-1 (MAX) score=3470.0 Î±=3830.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=3470.0 Î±=3830.0 Î²=3470.0 [PRUNED]\n      â”œâ”€ 15-18 (MIN) score=3470.0 Î±=3830.0 Î²=3470.0\n        â”œâ”€ 5-1 (MAX) score=3470.0 Î±=3830.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=3470.0 Î±=3830.0 Î²=3470.0 [PRUNED]\n      â”œâ”€ 15-19 [RETREAT PRUNED] (MIN) score=-150.0 Î±=3830.0 Î²=Inf [PRUNED]\n    â”œâ”€ [Î± cut-off] (MAX) score=3630.0 Î±=3830.0 Î²=3630.0 [PRUNED]\n  â”œâ”€ 14-9 (MIN) score=4160.0 Î±=3830.0 Î²=4160.0\n    â”œâ”€ 1-5 (MAX) score=4160.0 Î±=4160.0 Î²=Inf\n      â”œâ”€ 9-6 (MIN) score=3630.0 Î±=3830.0 Î²=3630.0\n        â”œâ”€ 5-1 (MAX) score=3630.0 Î±=3830.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=3630.0 Î±=3830.0 Î²=3630.0 [PRUNED]\n      â”œâ”€ 9-13 (MIN) score=3630.0 Î±=3830.0 Î²=3630.0\n        â”œâ”€ 5-1 (MAX) score=3630.0 Î±=3830.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=3630.0 Î±=3830.0 Î²=3630.0 [PRUNED]\n      â”œâ”€ 9-14 (MIN) score=3630.0 Î±=3830.0 Î²=3630.0\n        â”œâ”€ 5-1 (MAX) score=3630.0 Î±=3830.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=3630.0 Î±=3830.0 Î²=3630.0 [PRUNED]\n      â”œâ”€ 10-6 (MIN) score=-10000.0 Î±=3830.0 Î²=-10000.0\n        â”œâ”€ 5x14 (MAX) score=-10000.0 Î±=3830.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=-10000.0 Î±=3830.0 Î²=-10000.0 [PRUNED]\n      â”œâ”€ 10-7 (MIN) score=-10000.0 Î±=3830.0 Î²=-10000.0\n        â”œâ”€ 5x14 (MAX) score=-10000.0 Î±=3830.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=-10000.0 Î±=3830.0 Î²=-10000.0 [PRUNED]\n      â”œâ”€ 10-14 (MIN) score=4160.0 Î±=3830.0 Î²=4160.0\n        â”œâ”€ 5-1 (MAX) score=4160.0 Î±=4160.0 Î²=Inf\n      â”œâ”€ 10-15 (MIN) score=-10000.0 Î±=4160.0 Î²=-10000.0\n        â”œâ”€ 5x14 (MAX) score=-10000.0 Î±=4160.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=-10000.0 Î±=4160.0 Î²=-10000.0 [PRUNED]\n    â”œâ”€ 1-6 (MAX) score=99999.0 Î±=99999.0 Î²=4160.0\n      â”œâ”€ 9x2 [NO MOVES] (MIN) score=99999.0 Î±=3830.0 Î²=4160.0\n      â”œâ”€ [Î² cut-off] (MIN) score=99999.0 Î±=99999.0 Î²=4160.0 [PRUNED]\n  â”œâ”€ 14-17 (MIN) score=3630.0 Î±=4160.0 Î²=3630.0\n    â”œâ”€ 1-5 (MAX) score=3630.0 Î±=4160.0 Î²=Inf\n      â”œâ”€ 10-6 (MIN) score=3530.0 Î±=4160.0 Î²=3530.0\n        â”œâ”€ 5-1 (MAX) score=3530.0 Î±=4160.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=3530.0 Î±=4160.0 Î²=3530.0 [PRUNED]\n      â”œâ”€ 10-7 (MIN) score=3370.0 Î±=4160.0 Î²=3370.0\n        â”œâ”€ 5-1 (MAX) score=3370.0 Î±=4160.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=3370.0 Î±=4160.0 Î²=3370.0 [PRUNED]\n      â”œâ”€ 10-14 (MIN) score=3530.0 Î±=4160.0 Î²=3530.0\n        â”œâ”€ 5-1 (MAX) score=3530.0 Î±=4160.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=3530.0 Î±=4160.0 Î²=3530.0 [PRUNED]\n      â”œâ”€ 10-15 (MIN) score=3170.0 Î±=4160.0 Î²=3170.0\n        â”œâ”€ 5-1 (MAX) score=3170.0 Î±=4160.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=3170.0 Î±=4160.0 Î²=3170.0 [PRUNED]\n      â”œâ”€ 17-13 (MIN) score=3630.0 Î±=4160.0 Î²=3630.0\n        â”œâ”€ 5-1 (MAX) score=3630.0 Î±=4160.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=3630.0 Î±=4160.0 Î²=3630.0 [PRUNED]\n      â”œâ”€ 17-14 (MIN) score=3630.0 Î±=4160.0 Î²=3630.0\n        â”œâ”€ 5-1 (MAX) score=3630.0 Î±=4160.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=3630.0 Î±=4160.0 Î²=3630.0 [PRUNED]\n      â”œâ”€ 17-21 (MIN) score=3170.0 Î±=4160.0 Î²=3170.0\n        â”œâ”€ 5-1 (MAX) score=3170.0 Î±=4160.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=3170.0 Î±=4160.0 Î²=3170.0 [PRUNED]\n      â”œâ”€ 17-22 (MIN) score=3170.0 Î±=4160.0 Î²=3170.0\n        â”œâ”€ 5-1 (MAX) score=3170.0 Î±=4160.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=3170.0 Î±=4160.0 Î²=3170.0 [PRUNED]\n    â”œâ”€ [Î± cut-off] (MAX) score=3630.0 Î±=4160.0 Î²=3630.0 [PRUNED]\n  â”œâ”€ 14-18 (MIN) score=3630.0 Î±=4160.0 Î²=3630.0\n    â”œâ”€ 1-5 (MAX) score=3630.0 Î±=4160.0 Î²=Inf\n      â”œâ”€ 10-6 (MIN) score=3470.0 Î±=4160.0 Î²=3470.0\n        â”œâ”€ 5-1 (MAX) score=3470.0 Î±=4160.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=3470.0 Î±=4160.0 Î²=3470.0 [PRUNED]\n      â”œâ”€ 10-7 (MIN) score=2910.0 Î±=4160.0 Î²=2910.0\n        â”œâ”€ 5-1 (MAX) score=2910.0 Î±=4160.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=2910.0 Î±=4160.0 Î²=2910.0 [PRUNED]\n      â”œâ”€ 10-14 (MIN) score=3470.0 Î±=4160.0 Î²=3470.0\n        â”œâ”€ 5-1 (MAX) score=3470.0 Î±=4160.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=3470.0 Î±=4160.0 Î²=3470.0 [PRUNED]\n      â”œâ”€ 10-15 [RETREAT PRUNED] (MIN) score=-750.0 Î±=4160.0 Î²=Inf [PRUNED]\n      â”œâ”€ 18-14 (MIN) score=3630.0 Î±=4160.0 Î²=3630.0\n        â”œâ”€ 5-1 (MAX) score=3630.0 Î±=4160.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=3630.0 Î±=4160.0 Î²=3630.0 [PRUNED]\n      â”œâ”€ 18-15 (MIN) score=2710.0 Î±=4160.0 Î²=2710.0\n        â”œâ”€ 5-1 (MAX) score=2710.0 Î±=4160.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=2710.0 Î±=4160.0 Î²=2710.0 [PRUNED]\n      â”œâ”€ 18-22 (MIN) score=3170.0 Î±=4160.0 Î²=3170.0\n        â”œâ”€ 5-1 (MAX) score=3170.0 Î±=4160.0 Î²=Inf\n        â”œâ”€ [Î± cut-off] (MAX) score=3170.0 Î±=4160.0 Î²=3170.0 [PRUNED]\n      â”œâ”€ 18-23 [RETREAT PRUNED] (MIN) score=1350.0 Î±=4160.0 Î²=Inf [PRUNED]\n    â”œâ”€ [Î± cut-off] (MAX) score=3630.0 Î±=4160.0 Î²=3630.0 [PRUNED]\n\n```\n\n---\n\n### 4. Human â€” beam search K=2 (PRUNE_HUMAN), ~39 uzlÅ¯\n\n**KompletnÃ­** postup prohledÃ¡vÃ¡nÃ­ do hloubky 6 (nejpÅ™Ã­snÄ›jÅ¡Ã­ varianta):\n\n```\nâ”œâ”€ Start (MAX) score=1970.0 Î±=1970.0 Î²=Inf\n  â”œâ”€ 10-6 (MIN) score=-10000.0 Î±=-Inf Î²=-10000.0\n    â”œâ”€ 1x10x17 [LOSS PRUNED] (MAX) score=-10000.0 Î±=-Inf Î²=Inf [PRUNED]\n  â”œâ”€ 10-7 (MIN) score=1970.0 Î±=-10000.0 Î²=1970.0\n    â”œâ”€ 1-5 (MAX) score=1970.0 Î±=1970.0 Î²=Inf\n      â”œâ”€ 7-2 (MIN) score=1970.0 Î±=-10000.0 Î²=1970.0\n        â”œâ”€ 5-1 (MAX) score=1970.0 Î±=1970.0 Î²=Inf\n          â”œâ”€ 2-6 (MIN) score=-10000.0 Î±=-10000.0 Î²=-10000.0\n            â”œâ”€ 1x10x17 (MAX) score=-10000.0 Î±=-10000.0 Î²=Inf\n            â”œâ”€ [Î± cut-off] (MAX) score=-10000.0 Î±=-10000.0 Î²=-10000.0 [PRUNED]\n          â”œâ”€ 2-7 (MIN) score=1970.0 Î±=-10000.0 Î²=1970.0\n            â”œâ”€ 1-5 (MAX) score=1970.0 Î±=-10000.0 Î²=Inf\n            â”œâ”€ 1-6 (MAX) score=2060.0 Î±=-10000.0 Î²=1970.0\n        â”œâ”€ 5-9 (MAX) score=99999.0 Î±=99999.0 Î²=1970.0\n          â”œâ”€ 14x5 [NO MOVES] (MIN) score=99999.0 Î±=-10000.0 Î²=1970.0\n          â”œâ”€ [Î² cut-off] (MIN) score=99999.0 Î±=99999.0 Î²=1970.0 [PRUNED]\n      â”œâ”€ 7-3 (MIN) score=1970.0 Î±=1970.0 Î²=1970.0\n        â”œâ”€ 5-1 (MAX) score=1970.0 Î±=1970.0 Î²=Inf\n          â”œâ”€ 3-7 (MIN) score=1970.0 Î±=1970.0 Î²=1970.0\n            â”œâ”€ 1-5 (MAX) score=1970.0 Î±=1970.0 Î²=Inf\n            â”œâ”€ [Î± cut-off] (MAX) score=1970.0 Î±=1970.0 Î²=1970.0 [PRUNED]\n          â”œâ”€ 3-8 (MIN) score=1510.0 Î±=1970.0 Î²=1510.0\n            â”œâ”€ 1-5 (MAX) score=1510.0 Î±=1970.0 Î²=Inf\n            â”œâ”€ [Î± cut-off] (MAX) score=1510.0 Î±=1970.0 Î²=1510.0 [PRUNED]\n        â”œâ”€ [Î± cut-off] (MAX) score=1970.0 Î±=1970.0 Î²=1970.0 [PRUNED]\n    â”œâ”€ 1-6 (MAX) score=1970.0 Î±=1970.0 Î²=1970.0\n      â”œâ”€ 7-2 (MIN) score=1970.0 Î±=-10000.0 Î²=1970.0\n        â”œâ”€ 6-1 (MAX) score=1970.0 Î±=1970.0 Î²=1970.0\n          â”œâ”€ 2-6 (MIN) score=-10000.0 Î±=-10000.0 Î²=-10000.0\n            â”œâ”€ 1x10x17 (MAX) score=-10000.0 Î±=-10000.0 Î²=1970.0\n            â”œâ”€ [Î± cut-off] (MAX) score=-10000.0 Î±=-10000.0 Î²=-10000.0 [PRUNED]\n          â”œâ”€ 2-7 (MIN) score=1970.0 Î±=-10000.0 Î²=1970.0\n            â”œâ”€ 1-5 (MAX) score=1970.0 Î±=-10000.0 Î²=1970.0\n            â”œâ”€ 1-6 (MAX) score=2060.0 Î±=-10000.0 Î²=1970.0\n          â”œâ”€ [Î² cut-off] (MIN) score=1970.0 Î±=1970.0 Î²=1970.0 [PRUNED]\n        â”œâ”€ 6-9 (MAX) score=99999.0 Î±=99999.0 Î²=1970.0\n          â”œâ”€ 14x5 [NO MOVES] (MIN) score=99999.0 Î±=-10000.0 Î²=1970.0\n          â”œâ”€ [Î² cut-off] (MIN) score=99999.0 Î±=99999.0 Î²=1970.0 [PRUNED]\n      â”œâ”€ [Î² cut-off] (MIN) score=1970.0 Î±=1970.0 Î²=1970.0 [PRUNED]\n\n```\n\n:::\n\n\n\\newpage\n\n## Validace oÅ™ezÃ¡vÃ¡nÃ­ (Brute Force vs Alpha-Beta)\n\nV tÃ©to sekci ovÄ›Å™Ã­me sprÃ¡vnost Alpha-Beta oÅ™ezÃ¡vÃ¡nÃ­ porovnÃ¡nÃ­m s ÄistÃ½m Minimax algoritmem (hrubÃ¡ sÃ­la) na vybranÃ© hernÃ­ situaci. Oba algoritmy musÃ­ najÃ­t **stejnou hodnotu skÃ³re** a **stejnÃ½ nejlepÅ¡Ã­ tah**. RozdÃ­l bude pouze v poÄtu prozkoumanÃ½ch uzlÅ¯.\n\n::: {#benchmark-6-variants .cell execution_count=3}\n| Algoritmus | Move Ordering | Alpha-Beta | 1v1 Term. | Pressure Term. | Beam Search | ÄŒas (s) | UzlÅ¯ |\n|---|:---:|:---:|:---:|:---:|:---:|---:|---:|\n| Brute-force | | | | | | 0.0304 | 2090 |\n| Smart | X | | | | | 0.2718 | 2090 |\n| Clever (AB) | X | X | | | | 0.4094 | 595 |\n| Pragmatic | X | X | X | | | 0.0012 | 555 |\n| Lazy | X | X | X | X | | 0.0012 | 555 |\n| Human (Manual) | X | X | X | X | X | 0.0004 | 13 |\n:::\n\n\n#### VysvÄ›tlivky k reportu\n\n- **NO MOVES**: Pokud se ve stromu objevÃ­ uzel oznaÄenÃ½ jako `[NO MOVES]`, znamenÃ¡ to, Å¾e hrÃ¡Ä na tahu nemÃ¡ k dispozici Å¾Ã¡dnÃ½ legÃ¡lnÃ­ tah. V dÃ¡mÄ› to znamenÃ¡ okamÅ¾itou prohru.\n    - Pokud nemÅ¯Å¾e tÃ¡hnout MAX (BÃ­lÃ½), skÃ³re je $-\\infty$.\n    - Pokud nemÅ¯Å¾e tÃ¡hnout MIN (ÄŒervenÃ½), skÃ³re je $+\\infty$ (z pohledu MAX hrÃ¡Äe je to vÃ½hra).\n- **OÅ˜EZÃNO (Cut-off)**: VÄ›tve oznaÄenÃ© Å¡edÄ› a pÅ™eruÅ¡ovanou Äarou nebyly prohledÃ¡ny, protoÅ¾e algoritmus matematicky dokÃ¡zal, Å¾e nemohou ovlivnit vÃ½sledek (buÄ jsou pro soupeÅ™e pÅ™Ã­liÅ¡ dobrÃ©, takÅ¾e je hrÃ¡Ä nevybere, nebo naopak).\n\n\\newpage\n\n### Souhrnna statistika\n\n::: {#summary-stats .cell execution_count=4}\n| Metrika | Hodnota |\n|---------|---------|\n| **Celkovy pocet tahu** | 15 |\n| **Prumerne uzly/tah (bily)** | 582 |\n| **Prumerne uzly/tah (cerveny)** | 356 |\n| **Zlomovy tah** | #10 (2-7, skore 10000) |\n| **Terminalni nalezeni** | od tahu #11 |\n\n> **Efektivita orezavani:** Cerveny ma mensi stromy (prumerne 356 vs 582 uzlu) â€” bily ma vetsi volnost a vice alternativ.\n:::\n\n\n\\newpage\n\n## ZÃ¡vÄ›r - iterace a srovnÃ¡nÃ­\n\n`perfect_endgame_heuristic` pÅ™edstavuje **druhou iteraci** heuristiky, kterÃ¡ Å™eÅ¡Ã­ vÅ¡echny problÃ©my pÅ¯vodnÃ­ `optimal_endgame_heuristic`. NÃ­Å¾e je srovnÃ¡nÃ­ klÃ­ÄovÃ½ch vlastnostÃ­:\n\n| ProblÃ©m | Optimal (v1) | Perfect (v2) |\n|---------|--------------|--------------|\n| **Hardcoded pozice** | Ano (zÃ¡vislost na konkrÃ©tnÃ­ch polÃ­ch) | **Ne** (obecnÃ© principy) |\n| **Horizon effect** | NeÅ™eÅ¡en (ÄekÃ¡nÃ­ na smrt) | **VyÅ™eÅ¡en** (aktivnÃ­ hledÃ¡nÃ­ vÃ½hry) |\n| **Crowding (PÅ™eplnÄ›nÃ­)** | MÅ¯Å¾e nastat (krÃ¡lovÃ© si pÅ™ekÃ¡Å¾Ã­) | **PenalizovÃ¡no** (rozestupy) |\n| **KontextovÃ¡ zÃ¡vislost** | ChybÃ­ (statickÃ© vÃ¡hy) | **ImplementovÃ¡no** (dynamickÃ© bonusy) |\n| **1v1 ochrana** | Pouze penalta (-2000) | **Forbidden** (-99999, tvrdÃ½ zÃ¡kaz) |\n| **Move ordering** | ChybÃ­ | **ImplementovÃ¡no** (zrychlenÃ­ vÃ½poÄtu) |\n\nPro produkÄnÃ­ nasazenÃ­ je `perfect_endgame_heuristic` jednoznaÄnÄ› doporuÄenÃ¡ volba.\n\n\\newpage\n\n## Optimalizace pro hloubku 6 a analÃ½za regrese (zhorÅ¡enÃ­)\n\n::: {#verify-regression .cell execution_count=5}\n``` {.julia .cell-code}\n## Load log file\nlog_path = joinpath(cur_doc_dir, \"..\", \"out\", \"verification\", \"verification_log.txt\")\n\nif isfile(log_path)\n    lines = readlines(log_path)\n\n    # â”€â”€ ParsovÃ¡nÃ­ logu â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n    struct VerifMove\n        turn::Int\n        player::String\n        move::String\n        score::Float64\n    end\n\n    verif_moves = VerifMove[]\n    for l in lines\n        # Regex: Turn 1 White: 14-9 (Score: 1770.0)\n        m = match(r\"Turn (\\d+) (White|Red):\\s+([0-9x-]+) \\(Score: ([0-9.-]+)\\)\", l)\n        if m !== nothing\n            push!(verif_moves, VerifMove(\n                parse(Int, m[1]),\n                m[2],\n                m[3],\n                parse(Float64, m[4])\n            ))\n        end\n    end\n\n    # â”€â”€ VÃ½pis vÃ½sledkÅ¯ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n    println(\"### Verifikace optimÃ¡lnÃ­ sekvence (Hloubka 6)\\n\")\n    println(\"| Tah | HrÃ¡Ä | Tah | SkÃ³re |\")\n    println(\"|----:|:-----|:----|------:|\")\n\n    has_14_18 = false\n\n    for vm in verif_moves\n        highlight = \"\"\n        # KritickÃ½ tah: 14-18\n        if vm.move == \"14-18\" && vm.player == \"White\"\n            highlight = \"**\"\n            has_14_18 = true\n        end\n\n        score_fmt = vm.score >= 9999 ? \"VÃHRA\" : string(round(vm.score, digits=1))\n        player_cz = vm.player == \"White\" ? \"BÃ­lÃ½\" : \"ÄŒervenÃ½\"\n\n        println(\"| $(vm.turn) | $player_cz | $(highlight)$(vm.move)$(highlight) | $score_fmt |\")\n    end\n\n    result_line = findfirst(l -> occursin(\"Wins\", l), lines)\n    final_result = result_line !== nothing ? lines[result_line] : \"NeznÃ¡mo\"\n    \n    # PÅ™eklad vÃ½sledku\n    final_result = replace(final_result, \"White Wins\" => \"BÃ­lÃ½ VÃTÄšZÃ\")\n\n    println(\"\\n> **VÃ½sledek:** Sekvence obsahuje kritickÃ½ tah `14-18`: $(has_14_18 ? \"**ANO**\" : \"NE\"). KoneÄnÃ½ stav: **$final_result**.\")\nelse\n    println(\"> *Log verifikace nenalezen. SpusÅ¥te `verify_sequence.jl`.*\")\nend\n```\n### Verifikace optimÃ¡lnÃ­ sekvence (Hloubka 6)\n\n| Tah | HrÃ¡Ä | Tah | SkÃ³re |\n|----:|:-----|:----|------:|\n| 1 | ÄŒervenÃ½ | 1-5 | 6610.0 |\n| 2 | ÄŒervenÃ½ | 5-1 | 7950.0 |\n| 3 | ÄŒervenÃ½ | 1-6 | 7750.0 |\n| 4 | ÄŒervenÃ½ | 6-2 | 8150.0 |\n| 5 | ÄŒervenÃ½ | 2-7 | VÃHRA |\n| 6 | ÄŒervenÃ½ | 7-3 | VÃHRA |\n| 7 | ÄŒervenÃ½ | 3-7 | VÃHRA |\n\n> **VÃ½sledek:** Sekvence obsahuje kritickÃ½ tah `14-18`: NE. KoneÄnÃ½ stav: **BÃ­lÃ½ VÃTÄšZÃ**.\n:::\n\n\n## ZÃ¡vÄ›reÄnÃ¡ zprÃ¡va o verifikaci\n\n### AnalÃ½za regrese: ProblÃ©m nerozhodnosti v hloubce 6\n\nBÄ›hem optimalizace jsme narazili na kritickÃ½ problÃ©m (regresi), kdy heuristika pÅ™idÄ›lovala **stejnÃ© skÃ³re** optimÃ¡lnÃ­mu tahu `14-9` a suboptimÃ¡lnÃ­mu tahu `10-7`. To zpÅ¯sobilo, Å¾e agent nebyl schopen vybrat vÃ­tÄ›znou variantu.\n\nPÅ™Ã­Äinou byly dva faktory:\n\n1.  **NevhodnÃ¡ metrika (ManhattanskÃ¡ vzdÃ¡lenost):** PÅ¯vodnÃ­ implementace naivnÄ› pouÅ¾Ã­vala Manhattanskou metriku (`|dx| + |dy|`), kterÃ¡ je standardem pro mÅ™Ã­Å¾kovÃ© hry. V dÃ¡mÄ›, kde se krÃ¡lovÃ© pohybujÃ­ po diagonÃ¡lÃ¡ch, je vÅ¡ak tato metrika zavÃ¡dÄ›jÃ­cÃ­. Pole, kterÃ© je vzdÃ¡lenÃ© 2 kroky diagonÃ¡lnÄ›, mÃ¡ stejnou \"vzdÃ¡lenost\" jako jinÃ© pole vzdÃ¡lenÃ© 2 kroky ortogonÃ¡lnÄ›, aÄkoliv v hernÃ­m prostoru je to diametrÃ¡lnÃ­ rozdÃ­l. Agent tak nevidÄ›l rozdÃ­l mezi polem 9 (cesta k cÃ­li) a polem 2 (slepÃ¡ uliÄka).\n2.  **Penalta za \"Crowding\" (PÅ™eplnÄ›nÃ­):** Heuristika penalizovala optimÃ¡lnÃ­ tah `14-9`, protoÅ¾e se oba krÃ¡lovÃ© dostali do zÃ³ny \"Near Corner\" souÄasnÄ›. Tato penalta mÄ›la slouÅ¾it proti pasivitÄ›, ale zde paradoxnÄ› trestala aktivnÃ­ Ãºtok.\n\n#### AplikovanÃ© opravy\n\n1.  **ÄŒebyÅ¡evova vzdÃ¡lenost:** ZmÄ›nili jsme metriku v `perfect_endgame_heuristic` (Corner Control) z ManhattanskÃ© (`sum`) na ÄŒebyÅ¡evovu (`max`). Tato metrika pÅ™irozenÄ› respektuje diagonÃ¡lnÃ­ pohyb krÃ¡le a sprÃ¡vnÄ› vyhodnotila klÃ­ÄovÃ© pole 5 jako \"vzdÃ¡lenost 1\", zatÃ­mco ostatnÃ­ pole zÅ¯stala dÃ¡le.\n2.  **CÃ­lenÃ½ bonus za blÃ­zkost:** PÅ™idali jsme specifickÃ½ bonus (+500) za dosaÅ¾enÃ­ vzdÃ¡lenosti 1 (`closer_dist <= 1`). ProtoÅ¾e pouze optimÃ¡lnÃ­ sekvence `14-9 -> 9-5` vede takto rychle blÃ­zko, vytvoÅ™ilo to potÅ™ebnÃ½ skÃ³re gradient.\n3.  **UvolnÄ›nÃ­ podmÃ­nky Crowding:** Upravili jsme penalizaci tak, aby se spouÅ¡tÄ›la pouze tehdy, kdyÅ¾ jsou **oba** krÃ¡lovÃ© na vzdÃ¡lenost <= 2. TÃ­m jsme eliminovali faleÅ¡nÃ© poplachy bÄ›hem nutnÃ© pÅ™ibliÅ¾ovacÃ­ fÃ¡ze.\n\n#### VÃ½sledek verifikace\n\nFinÃ¡lnÃ­ verifikaÄnÃ­ bÄ›h (viz tabulka vÃ½Å¡e) potvrzuje opravu:\n\n- **OptimÃ¡lnÃ­ tah (14-9):** SkÃ³re **4160.0** (AktivnÃ­ bonus za vzdÃ¡lenost 1)\n- **SuboptimÃ¡lnÃ­ tah (10-7):** SkÃ³re **3670.0** (VzdÃ¡lenost 2, bez bonusu)\n- **RozdÃ­l skÃ³re:** **+490.0** ve prospÄ›ch optimÃ¡lnÃ­ho tahu.\n\nSimulace nynÃ­ sprÃ¡vnÄ› pÅ™ehraje celou vÃ­tÄ›znou sekvenci aÅ¾ do matu.\n\n",
    "supporting": [
      "perfectHer-val-func-docs_files/figure-pdf"
    ],
    "filters": []
  }
}